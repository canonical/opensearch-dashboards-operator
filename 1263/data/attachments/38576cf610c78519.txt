[32mINFO    [0m pytest_operator.plugin:plugin.py:903 Model status:

Model  Controller           Cloud/Region         Version  SLA          Timestamp
test   localhost-localhost  localhost/localhost  3.5.3    unsupported  02:46:24Z

App                       Version  Status   Scale  Charm                     Channel        Rev  Exposed  Message
opensearch                         error        3  opensearch                2/edge         185  no       hook failed: "config-changed"
opensearch-dashboards              blocked      3  opensearch-dashboards                      0  no       Incompatible Opensearch and Dashboards versions
self-signed-certificates           active       1  self-signed-certificates  latest/stable  155  no       

Unit                         Workload  Agent      Machine  Public address  Ports     Message
opensearch-dashboards/0      blocked   executing  0        10.0.0.37       5601/tcp  Incompatible Opensearch and Dashboards versions
opensearch-dashboards/1*     blocked   executing  1        10.0.0.127      5601/tcp  Incompatible Opensearch and Dashboards versions
opensearch-dashboards/2      blocked   executing  2        10.0.0.143      5601/tcp  Incompatible Opensearch and Dashboards versions
opensearch/0*                active    executing  4        10.0.0.171                
opensearch/1                 active    executing  5        10.0.0.156                
opensearch/2                 error     idle       6        10.0.0.48                 hook failed: "config-changed"
self-signed-certificates/0*  active    executing  3        10.0.0.15                 

Machine  State    Address     Inst id        Base          AZ  Message
0        started  10.0.0.37   juju-9f375b-0  ubuntu@22.04      Running
1        started  10.0.0.127  juju-9f375b-1  ubuntu@22.04      Running
2        started  10.0.0.143  juju-9f375b-2  ubuntu@22.04      Running
3        started  10.0.0.15   juju-9f375b-3  ubuntu@22.04      Running
4        started  10.0.0.171  juju-9f375b-4  ubuntu@22.04      Running
5        started  10.0.0.156  juju-9f375b-5  ubuntu@22.04      Running
6        started  10.0.0.48   juju-9f375b-6  ubuntu@22.04      Running

[32mINFO    [0m pytest_operator.plugin:plugin.py:909 Juju error logs:

machine-0: 02:40:41 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 02:40:41 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 02:40:42 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 02:40:42 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 02:40:44 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-2: 02:40:44 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-dashboards-1: 02:41:26 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-opensearch-dashboards-0: 02:41:26 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-opensearch-dashboards-2: 02:41:26 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-opensearch-dashboards-2: 02:42:22 ERROR unit.opensearch-dashboards/2.juju-log This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:22 ERROR unit.opensearch-dashboards/2.juju-log This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:22 ERROR unit.opensearch-dashboards/2.juju-log This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:22 ERROR unit.opensearch-dashboards/2.juju-log This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:22 ERROR unit.opensearch-dashboards/2.juju-log This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:24 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:24 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:24 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:25 ERROR unit.opensearch-dashboards/0.juju-log This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:25 ERROR unit.opensearch-dashboards/0.juju-log This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:25 ERROR unit.opensearch-dashboards/0.juju-log This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:25 ERROR unit.opensearch-dashboards/0.juju-log This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:25 ERROR unit.opensearch-dashboards/0.juju-log This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:26 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:26 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:26 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:27 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:27 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:27 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:28 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:28 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:28 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:29 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:29 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:29 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:29 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:29 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:29 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:31 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:31 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:31 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:31 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:31 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:31 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:31 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:31 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:42:31 ERROR unit.opensearch-dashboards/0.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:32 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:32 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:32 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:33 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:33 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:42:33 ERROR unit.opensearch-dashboards/2.juju-log dashboard_peers:2: This operation (fetch_my_relation_data()) can only be performed by the leader unit
machine-3: 02:44:56 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-3: 02:44:56 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-self-signed-certificates-0: 02:44:57 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-4: 02:45:02 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-4: 02:45:02 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-0: 02:45:02 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-5: 02:45:05 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-5: 02:45:05 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-1: 02:45:05 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-6: 02:45:06 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-6: 02:45:06 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-opensearch-2: 02:45:06 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-opensearch-dashboards-0: 02:46:18 ERROR unit.opensearch-dashboards/0.juju-log opensearch-client:7: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:46:18 ERROR unit.opensearch-dashboards/2.juju-log opensearch-client:7: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-0: 02:46:20 ERROR unit.opensearch-dashboards/0.juju-log opensearch-client:7: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-dashboards-2: 02:46:20 ERROR unit.opensearch-dashboards/2.juju-log opensearch-client:7: This operation (fetch_my_relation_data()) can only be performed by the leader unit
unit-opensearch-2: 02:46:23 ERROR unit.opensearch/2.juju-log Uncaught exception while in charm code:
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-opensearch-2/charm/./src/charm.py", line 221, in <module>
    main(OpenSearchOperatorCharm)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/ops/main.py", line 553, in main
    manager.run()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/ops/main.py", line 529, in run
    self._emit()
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/ops/main.py", line 518, in _emit
    _emit_charm_event(self.charm, self.dispatcher.event_name, self._juju_context)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/ops/main.py", line 139, in _emit_charm_event
    event_to_emit.emit(*args, **kwargs)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/ops/framework.py", line 347, in emit
    framework._emit(event)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/ops/framework.py", line 853, in _emit
    self._reemit(event_path)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/venv/ops/framework.py", line 943, in _reemit
    custom_handler(event)
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_base_charm.py", line 746, in _on_config_changed
    perf_profile_needs_restart = self.performance_profile.apply(
  File "/var/lib/juju/agents/unit-opensearch-2/charm/lib/charms/opensearch/v0/opensearch_performance_profile.py", line 106, in apply
    if self.charm.opensearch_peer_cm.deployment_desc().typ == DeploymentType.MAIN_ORCHESTRATOR:
AttributeError: 'NoneType' object has no attribute 'typ'

[32mINFO    [0m pytest_operator.plugin:plugin.py:991 Forgetting model main...